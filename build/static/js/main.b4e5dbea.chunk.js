(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{116:function(e,t,n){e.exports=n(138)},121:function(e,t,n){},122:function(e,t,n){},138:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(65),i=n.n(o),l=(n(121),n(122),n(154)),c=function(){return r.a.createElement("div",{style:{height:"100%",alignItems:"center",justifyContent:"center"}},r.a.createElement(l.a,null))},u=n(98),s=n(156),d=function(e){var t=e.children;return r.a.createElement("div",{style:{height:"100%",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{style:{alignItems:"center",justifyContent:"center"}},r.a.createElement(s.a,null)),r.a.createElement("div",null,t))},m=n(28),f=n(17);function p(){var e=Object(m.a)(["\n    {\n        getUserShifts {\n            date\n            tip\n            records {\n                start \n                end \n                signed\n                user {\n                    id\n                }\n            }\n            status {\n                opened \n                closed {\n                    user {\n                        firstname\n                        lastname \n                    }\n                    date \n                }\n                signed {\n                    user {\n                        firstname \n                        lastname \n                    }\n                    date \n                }\n            }\n        }\n    }\n"]);return p=function(){return e},e}function g(){var e=Object(m.a)(["\n    query getShift($date: Date) {\n        getShift(date: $date) {\n            date\n            tip\n            isInShift\n            records {\n                start\n                end\n                user {\n                    id\n                    firstname\n                    lastname\n                    avatar\n                }\n                signed\n            }\n            status {\n                opened\n                closed {\n                    user {\n                        id\n                        firstname\n                        lastname\n                    }\n                    date\n                }\n                signed {\n                    user {\n                        id \n                        firstname\n                        lastname\n                    }\n                    date\n                }\n            }\n        }\n    }\n"]);return g=function(){return e},e}function h(){var e=Object(m.a)(["\n    {\n        getUsers {\n            id\n            firstname\n            lastname \n            username\n            avatar\n            role\n        }\n    }\n"]);return h=function(){return e},e}function b(){var e=Object(m.a)(["\n    {\n        Authenticate {\n            token \n            user {\n                id\n                firstname\n                lastname \n                username \n                avatar\n                role\n            }\n        }\n    }\n"]);return b=function(){return e},e}var x,E=Object(f.a)(b()),v=Object(f.a)(h()),w=Object(f.a)(g()),O=Object(f.a)(p()),j=n(16),k=n(8),N=n(18),y=n(157),C=n(174),S=n(50),D=n(158),I=n(159),R=n(160),T=n(161),B=n(162),z=n(163),H=Object(y.a)((function(e){return{container:{maxWidth:"205px",maxHeight:"69px",width:"100%",height:"100%",background:"#fff",userSelect:"none"},link:{position:"relative",textDecoration:"none",cursor:"pointer",color:"#6c5549",fontSize:"2vh",userDrag:"none"},image:{width:"100%",height:"100%",objectFit:"contain",userDrag:"none"},text:{position:"absolute",bottom:"-.2vh",width:"67%",height:"20px",right:"16%",background:"#fff",textAlign:"center",fontWeight:700,letterSpacing:".08rem",userDrag:"none",fontFamily:"Tahoma"}}})),A=function(){var e=H(),t=e.container,n=e.link,a=e.image,o=e.text;return r.a.createElement("div",{className:t},r.a.createElement(S.b,{to:"/",className:n},r.a.createElement("img",{className:a,src:"/gordo-logo.png",alt:"\u05dc\u05d5\u05d2\u05d5"}),r.a.createElement("span",{className:o},"\u05e0\u05d9\u05d4\u05d5\u05dc \u05d8\u05d9\u05e4\u05d9\u05dd")))},W=n(7),M=Object(y.a)((function(e){return{container:{height:"100%"},wrapper:Object(N.a)({maxWidth:"980px",width:"100%",margin:"0 auto",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},e.breakpoints.down(1020),{padding:"0 20px",margin:0}),header:{height:"70px",flexDirection:"row",alignItems:"center",background:"#fff",boxShadow:"0 1px 2px rgba(0,0,0,.1)",boxSizing:"border-box"},main:Object(N.a)({position:"relative",zIndex:1e3,maxWidth:"980px",width:"100%",height:"calc(100% - 70px)",boxSizing:"border-box",margin:"0 auto",flexDirection:"row"},e.breakpoints.down(1020),{padding:"0 20px",margin:0}),userButton:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",boxSizing:"border-box",padding:"4px 8px",border:0,background:0,outline:"none",userSelect:"none",userDrag:"none",WebkitTapHighlightColor:"transparent",fontSize:"16px",fontWeight:500,width:"130px",transition:"width 0.1s ease-in-out","&.active":{width:"200px",justifyContent:"space-between",borderRadius:"10px 10px 0 0",boxShadow:"0 0px 3px rgba(0,0,0,.3)"}},userBubble:{position:"relative"},menuContainer:{position:"absolute",zIndex:1101,top:"100%",width:"100%",background:"#fff",boxShadow:"0 0 3px rgba(0,0,0,.3)",borderRadius:"0 0 10px 10px","&::before":{content:'""',position:"absolute",top:"-3px",width:"100%",height:"3px",background:"#fff"}},menuBg:{position:"fixed",width:"100%",height:"100%",top:0,left:0,zIndex:1100},menuBox:{zIndex:1101,paddingBottom:"10px",boxSizing:"border-box"},menuItem:{display:"flex",flexDirection:"row",alignItems:"center",cursor:"pointer",background:0,border:0,padding:"6px 12px",boxSizing:"border-box",textDecoration:"none",userSelect:"none",userDrag:"none",WebkitTapHighlightColor:"transparent",outline:"none",fontWeight:500,fontSize:"14px",lineHeight:"30px",color:"#333","&:hover":{backgroundColor:"rgba(0,0,0,.0425)",color:"#0089c0"},"& div.icon":{marginLeft:"10px",height:"40px",width:"35px",alignItems:"center",justifyContent:"center"},"&.primaryButton":{color:"#f44336"}}}})),Y=function(e){var t=e.children,n=e.auth,a=M(),o=r.a.useState(!1),i=Object(k.a)(o,2),l=i[0],c=i[1],u=function(){return c(!1)},s=function(){localStorage.removeItem("token"),window.location.reload()},d=function(){var e=[{text:"\u05e4\u05e8\u05d5\u05e4\u05d9\u05dc",link:"/p/".concat(n.user.username),icon:D.a},{text:"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea",link:"/account/settings",icon:I.a},{text:"\u05d4\u05ea\u05e0\u05ea\u05e7",button:{onClick:s},icon:R.a,color:"red"}];return Xe(n)&&e.unshift({text:"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea \u05de\u05e2\u05e8\u05db\u05ea",link:"/app/settings",icon:T.a,color:"red"}),r.a.createElement("div",{className:a.menuContainer},r.a.createElement("div",{className:a.menuBg,onClick:u}),r.a.createElement("div",{className:a.menuBox},e.map((function(e,t){return r.a.createElement("div",{key:t},e.link&&r.a.createElement(S.b,{key:t,className:a.menuItem,to:e.link},r.a.createElement("div",{className:"icon"},r.a.createElement(e.icon,null)),e.text),e.button&&r.a.createElement("button",{className:Object(W.a)(a.menuItem,e.color&&"primaryButton"),onClick:e.button.onClick},r.a.createElement("div",{className:"icon"},r.a.createElement(e.icon,null)),e.text))}))))};return r.a.createElement("div",{className:a.container},r.a.createElement("header",{className:a.header},r.a.createElement("div",{className:a.wrapper},r.a.createElement("div",{style:{maxWidth:"150px"}},r.a.createElement(A,null)),r.a.createElement("div",{className:a.userBubble},r.a.createElement("button",{className:Object(W.a)(a.userButton,l&&"active"),onClick:l?u:function(){return c(!0)}},r.a.createElement("div",{style:{flexDirection:"row",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement(C.a,{src:"http://".concat(window.location.hostname,":4000").concat(n.user.avatar)})),r.a.createElement("div",{style:{marginRight:"10px"}},n.user.firstname)),r.a.createElement("div",{style:{alignItems:"center",justifyContent:"center",height:"40px",marginTop:"2px"}},l?r.a.createElement(B.a,null):r.a.createElement(z.a,null))),l&&r.a.createElement(d,null)))),r.a.createElement("main",{className:a.main},r.a.createElement("div",{style:{width:"100%"}},t)))},F=n(19),L=n(99),$=["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"],_={short:["\u05d0","\u05d1","\u05d2","\u05d3","\u05d4","\u05d5","\u05e9\u05d1\u05ea"],long:["\u05e8\u05d0\u05e9\u05d5\u05df","\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05ea"]},G=function(e){var t=new Date;return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()};!function(e){e.DAY="DAY",e.MONTH="MONTH",e.YEAR="YEAR"}(x||(x={}));var U,q=Object(y.a)((function(e){return{container:{},header:{flexDirection:"row",height:"40px"},controlButton:{overflow:"hidden",display:"flex",flex:1,padding:"8px 16px",boxSizing:"border-box",textAlign:"center",alignItems:"center",justifyContent:"center",minHeight:"40px",cursor:"pointer",outline:"none",webkitHightLightTapColor:"transparent",fontSize:"16px",color:"#fff",border:0,background:"#6C5549","&.mainButton":{flex:2,borderRight:".5px solid rgba(0,0,0,.3)",borderLeft:".5px solid rgba(255,255,255,.3)",minWidth:"200px"},"&.rightButton":{borderRadius:"0 8px 0 0",borderLeft:".5px solid rgba(255,255,255,.3)"},"&.leftButton":{borderRadius:"8px 0 0 0",borderRight:".5px solid rgba(0,0,0,.3)"}},main:{background:"#fff",flexDirection:"column",border:"1px solid #6C5549",boxSizing:"border-box",minHeight:"270px",borderRadius:"0 0 8px 8px",overflow:"hidden","& button":{display:"flex",flex:1,minHeight:"40px",alignItems:"center",justifyContent:"center",border:0,background:0,outline:"none",cursor:"pointer"}},calendarRow:{flex:1},dayContainer:{"& button":{"& div":{borderRadius:"50%",width:"25px",height:"25px",alignItems:"center",justifyContent:"center",textAlign:"center"},"& div.today":{background:"#c4bbb6",color:"#6C5549",fontWeight:500},"& div.selected":{background:"#C1E0F7",color:"#333",fontWeight:500},"&:hover":{"& div":{background:"#6C5549",color:"#fff"}}}},weekdayItem:{flex:1,alignItems:"center",justifyContent:"center",minHeight:"30px",color:"#bbb",fontWeight:500,fontSize:"12px"}}})),J=function(e){var t=e.current,n=void 0===t?new Date:t,a=e.onSelect,o=q(),i=r.a.useState(x.DAY),l=Object(k.a)(i,2),c=l[0],u=l[1],s=r.a.useState(n),d=Object(k.a)(s,2),m=d[0],f=d[1],p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=new Date(m);return e===x.DAY?new Date(n.setDate(n.getDate()+t)):e===x.MONTH?new Date(n.setMonth(n.getMonth()+t)):e===x.YEAR?new Date(n.setFullYear(n.getFullYear()+t)):n},g=function(e){console.log("clicked date",e),f(e)},h=function(){var e={text:"",date:m},t={text:"",date:m},n={text:"",date:m};c===x.DAY&&(e={text:$[p(x.MONTH,-1).getMonth()],date:p(x.MONTH,-1)},t={text:$[new Date(m).getMonth()],date:m},n={text:$[p(x.MONTH).getMonth()],date:p(x.MONTH)}),c===x.MONTH&&(e={text:p(x.YEAR,-1).getFullYear().toString(),date:p(x.YEAR,-1)},t={text:new Date(m).getFullYear().toString(),date:m},n={text:p(x.YEAR).getFullYear().toString(),date:p(x.YEAR)}),c===x.YEAR&&(e={text:p(x.YEAR,-5).getFullYear().toString(),date:p(x.YEAR,-5)},t={text:"".concat((new Date(m).getFullYear()-4).toString(),"-").concat((new Date(m).getFullYear()+4).toString()),date:m},n={text:p(x.YEAR,5).getFullYear().toString(),date:p(x.YEAR,5)});return r.a.createElement("header",{className:o.header},r.a.createElement("button",{className:Object(W.a)(o.controlButton,"rightButton"),onClick:function(){return g(e.date)}},c===x.DAY?e.text.substr(0,3):e.text),r.a.createElement("button",{className:Object(W.a)(o.controlButton,"mainButton"),onClick:function(){var e=x.DAY;if(c===x.DAY&&(e=x.MONTH),c===x.MONTH&&(e=x.YEAR),c!==x.YEAR)return u(e)}},t.text),r.a.createElement("button",{className:Object(W.a)(o.controlButton,"leftButton"),onClick:function(){return g(n.date)}},c===x.DAY?n.text.substr(0,3):n.text))},b=function(){var e,t,i=[],l=new Date(m);if(c===x.DAY){for(var s=new Date(l.setDate(1)).getDay(),d=new Date(l.getFullYear(),l.getMonth()+1,0).getDate(),p=s-1;p>=0;p--)i.push({elem:r.a.createElement("div",{className:"prevMonth",key:"prev_month_".concat(p)},d-p),date:new Date(l.getFullYear(),l.getMonth()-1,d-p)});for(var g=1;g<=d;g++)i.push({elem:r.a.createElement("div",{className:Object(W.a)(G(new Date(l.setDate(g)))&&"today",(e=new Date(n),t=new Date(l.setDate(g)),e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()&&"selected")),key:"curr_month_".concat(g)},g),date:new Date(l.setDate(g))});for(var h=42-i.length,b=1;b<=h;b++)i.push({elem:r.a.createElement("div",{className:"nextMonth",key:"next_month_".concat(b)},b),date:new Date(l.getFullYear(),l.getMonth()+1,b)});i=i.concat.apply([],i.map((function(e,t){return t%7?[]:[i.slice(t,t+7)]})))}if(c===x.MONTH&&($.forEach((function(e,t){i.push({elem:r.a.createElement("div",{key:"month_".concat(t)},$[t]),date:l.setMonth(t)})})),i=i.concat.apply([],i.map((function(e,t){return t%3?[]:[i.slice(t,t+3)]})))),c===x.YEAR){for(var E=l.getFullYear()-4;E<l.getFullYear()+5;E++)i.push({elem:r.a.createElement("div",{key:"year_".concat(E)},E),date:new Date(E,l.getMonth(),l.getDate())});i=i.concat.apply([],i.map((function(e,t){return t%3?[]:[i.slice(t,t+3)]})))}return r.a.createElement("main",{className:Object(W.a)(o.main,c===x.DAY&&o.dayContainer)},c===x.DAY&&r.a.createElement("div",{style:{flexDirection:"row"}},_.short.map((function(e,t){return r.a.createElement("div",{className:o.weekdayItem,key:t},e)}))),i.map((function(e,t){return r.a.createElement("div",{className:o.calendarRow,key:t,style:{flexDirection:"row"}},e.map((function(e,t){return r.a.createElement("button",{onClick:function(t){return function(e){if(c===x.DAY)return null===a||void 0===a?void 0:a(e);c===x.MONTH&&u(x.DAY),c===x.YEAR&&u(x.MONTH),f(e)}(e.date)},key:t},e.elem)})))})))};return r.a.createElement("div",{className:o.container},r.a.createElement(h,null),r.a.createElement(b,null))},V=Object(y.a)((function(e){return{container:Object(N.a)({flexDirection:"row",position:"relative",maxHeight:"40px"},e.breakpoints.down(480),{width:"100%"}),controlButton:{display:"flex",overflow:"hidden",flex:1,padding:"8px 16px",boxSizing:"border-box",textAlign:"center",alignItems:"center",justifyContent:"center",minHeight:"40px",cursor:"pointer",outline:"none",webkitHightlightTapColor:"transparent",fontSize:"16px",color:"#fff",border:0,background:"#6C5549","&.mainButton":{flex:2,borderRight:".5px solid rgba(0,0,0,.3)",borderLeft:".5px solid rgba(255,255,255,.3)",minWidth:"200px"},"&.rightButton":{borderRadius:"0 8px 8px 0",borderLeft:".5px solid rgba(255,255,255,.3)"},"&.leftButton":{borderRadius:"8px 0 0 8px",borderRight:".5px solid rgba(0,0,0,.3)"}},pickerContainer:{position:"absolute",zIndex:1500,width:"100%",top:0},pickerOutline:{position:"fixed",top:0,left:0,width:"100%",height:"100%"}}})),P=function(e){var t=e.date,n=void 0===t?new Date:t,a=e.handleChange,o=V(),i=r.a.useState(),l=Object(k.a)(i,2),c=l[0],u=l[1],s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new Date(n);return a(new Date(t.setDate(t.getDate()+e)))};return r.a.createElement("section",{className:o.container},c&&r.a.createElement("div",{className:o.pickerContainer},r.a.createElement("div",{className:o.pickerOutline,onClick:function(e){return u(void 0)}}),r.a.createElement(J,{current:c,onSelect:function(e){return console.log("picker selected",e),u(void 0),a(e)}})),r.a.createElement("button",{className:Object(W.a)(o.controlButton,"rightButton"),onClick:function(){return s(-1)}},"\u05e7\u05d5\u05d3\u05dd"),r.a.createElement("button",{className:Object(W.a)(o.controlButton,"mainButton"),onClick:function(){return u(n)}},n.getDate()," \u05dc",$[n.getMonth()],", ",n.getFullYear()),r.a.createElement("button",{className:Object(W.a)(o.controlButton,"leftButton"),onClick:function(){return s()}},"\u05d4\u05d1\u05d0"))},K=n(167),Q=n(164),X=n(165),Z=n(166);!function(e){e.MORNING="\u05d1\u05d5\u05e7\u05e8",e.EVENING="\u05e2\u05e8\u05d1"}(U||(U={}));var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getHours()+e.getMinutes()/60>=16?U.EVENING:U.MORNING},te=Object(y.a)((function(e){return{container:{position:"relative"},mainButton:{display:"flex",overflow:"hidden",flex:1,padding:"8px 16px",boxSizing:"border-box",textAlign:"center",alignItems:"center",justifyContent:"center",minHeight:"40px",cursor:"pointer",outline:"none",webkitHightlightTapColor:"transparent",fontSize:"16px",color:"#fff",border:0,borderRadius:"8px",background:"#6C5549","&.opened":{borderRadius:"8px 8px 0 0"},"& span.text":{marginLeft:"8px"}},pickerContainer:{position:"absolute",top:"40px",width:"100%"},pickerOutline:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1499},pickerBox:{background:"#fff",border:"1px solid #6C5549",boxSizing:"border-box",zIndex:1500,borderRadius:"0 0 8px 8px",overflow:"hidden","& button":{display:"flex",overflow:"hidden",flex:1,boxSizing:"border-box",textAlign:"center",alignItems:"center",justifyContent:"space-between",minHeight:"40px",cursor:"pointer",outline:"none",fontSize:"16px",color:"#333",border:0,background:0,"& span.text":{marginLeft:".3rem"},"&:hover":{background:"#eee"},"&:disabled":{fontWeight:500,color:"#333"}}}}})),ne=function(e){var t=e.kind,n=void 0===t?ee(new Date):t,a=e.handleChange,o=te(),i=r.a.useState(!1),l=Object(k.a)(i,2),c=l[0],u=l[1],s=function(e){return u(!1),a(e)};return r.a.createElement("div",{className:o.container},r.a.createElement("button",{className:Object(W.a)(o.mainButton,c&&"opened"),onClick:function(e){return u(!0)}},r.a.createElement("span",{className:"text"},n),n===U.MORNING?r.a.createElement(Q.a,null):r.a.createElement(X.a,null)),c&&r.a.createElement("div",{className:o.pickerContainer},r.a.createElement("div",{className:o.pickerOutline,onClick:function(e){return u(!1)}}),r.a.createElement("div",{className:o.pickerBox},r.a.createElement("button",{disabled:n===U.MORNING,onClick:function(e){return s(U.MORNING)}},r.a.createElement("span",{className:"text"},U.MORNING),n===U.MORNING&&r.a.createElement(Z.a,null)),r.a.createElement("button",{disabled:n===U.EVENING,onClick:function(e){return s(U.EVENING)}},r.a.createElement("span",{className:"text"},U.EVENING),n===U.EVENING&&r.a.createElement(Z.a,null)))))};function ae(){var e=Object(m.a)(["\n    mutation SignRecord($input: JSON) {\n        SignRecord(input: $input)\n    }\n"]);return ae=function(){return e},e}function re(){var e=Object(m.a)(["\n    mutation SignShift($input: JSON) {\n        SignShift(input: $input)\n    }\n"]);return re=function(){return e},e}function oe(){var e=Object(m.a)(["\n    mutation CloseShift($input: JSON) {\n        CloseShift(input: $input) \n    }\n"]);return oe=function(){return e},e}function ie(){var e=Object(m.a)(["\n    mutation AddRecord($input: JSON) {\n        AddRecord(input: $input) {\n            start\n            end\n            user {\n                id\n                firstname\n            }\n        }\n    }\n"]);return ie=function(){return e},e}function le(){var e=Object(m.a)(["\n    mutation UpdateAccount($input: JSON) {\n        UpdateAccount(input: $input)\n    }\n"]);return le=function(){return e},e}function ce(){var e=Object(m.a)(["\n    mutation DeleteAccount($id: String) {\n        DeleteAccount(id: $id)\n    }\n"]);return ce=function(){return e},e}function ue(){var e=Object(m.a)(["\n    mutation AddAccount($input: JSON) {\n        AddAccount(input: $input)\n    }\n"]);return ue=function(){return e},e}function se(){var e=Object(m.a)(["\n    mutation Login($input: JSON) {\n        Login(input: $input) {\n            token\n        }\n    }\n"]);return se=function(){return e},e}var de=Object(f.a)(se()),me=Object(f.a)(ue()),fe=Object(f.a)(ce()),pe=Object(f.a)(le()),ge=Object(f.a)(ie()),he=Object(f.a)(oe()),be=Object(f.a)(re()),xe=Object(f.a)(ae()),Ee=function(e){return e<10?"0".concat(e):e.toString()},ve=function(e,t){return(t.getTime()-e.getTime())/1e3/60/60},we=Object(y.a)((function(e){return{container:{position:"relative",flex:1,flexDirection:"column"},header:{flex:1,flexDirection:"row",lineHeight:"40px",fontSize:"14px",fontWeight:500,background:"#eee",borderRadius:"8px 8px 0 0","& div":{flex:1,alignItems:"center",justifyContent:"center",boxSizing:"border-box","&:first-child":{padding:"0 10px"}},border:".5px solid #ebebeb",borderBottom:0},main:{},row:{flex:1,flexDirection:"row",lineHeight:"40px","&:nth-child(even)":{background:"#efefef"},border:".5px solid #ebebeb",borderBottom:0},cell:{flex:1,boxSizing:"border-box","&:first-child":{padding:"0 10px"}},titleRow:{flex:1,alignItems:"center",justifyContent:"center",lineHeight:"40px",color:"#aaa",boxSizing:"border-box"},addRecordButton:{margin:"10px auto",background:"#4caf50",border:0,color:"#fff",fontWeight:500,padding:"6px 20px",borderRadius:"8px",letterSpacing:".1rem",cursor:"pointer",outline:"none",WebkitTapHighlightColor:"transparent"},footer:{flex:1,flexDirection:"row",borderRadius:"0 0 8px 8px",border:".5px solid #ebebeb",borderTop:0},item:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#0089c0",fontWeight:500,padding:"5px 0",boxSizing:"border-box","& span":{color:"#333",fontSize:"14px"}},timeSelectContainer:{minWidth:"100px",alignItems:"center",justifyContent:"center"},timeSelectTitle:{fontSize:"14px",fontWeight:500,color:"#333",marginTop:"10px"},timeSelectItems:{},timeSelectItem:{margin:"10px 0","& button":Object(N.a)({border:0,background:0,fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",outline:"none",margin:"10px 0",WebkitTapHighlightColor:"transparent",color:"#999",boxSizing:"border-box"},e.breakpoints.down(480),{fontSize:"22px",padding:"10px"}),"& div":Object(N.a)({alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:500,margin:"5px 0"},e.breakpoints.down(480),{fontSize:"28px"})},signRecordButton:{border:0,display:"flex",flex:1,alignItems:"center",justifyContent:"center",background:"#4caf50",fontWeight:500,color:"#fff",cursor:"pointer",outline:"none",WebkitTapHighlightColor:"transparent",margin:"5px 0",borderRadius:"8px"}}})),Oe=Object(y.a)((function(e){return{container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},outline:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1500,background:"rgba(0,0,0,.8)"},box:Object(N.a)({background:"#fff",zIndex:1501,borderRadius:"8px",outline:"none",overflow:"hidden",minWidth:"300px"},e.breakpoints.down(480),{width:"90%"}),header:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between",lineHeight:"40px",fontSize:"14px",fontWeight:500,padding:"4px 12px",boxSizing:"border-box",background:"#6c5549",color:"#fff"},main:{flex:1,alignItems:"center",justifyContent:"center"},footer:{},footerItem:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"20px","& span":{marginLeft:".3rem",fontWeight:500}},footerControls:{margin:"10px 12px",justifyContent:"flex-end","& button":{fontWeight:500,color:"#fff",border:0,marginRight:"10px",cursor:"pointer",outline:"none",WebkitTapHighlightColor:"transparent",padding:"4px 12px",boxSizing:"border-box",borderRadius:"8px"},"& button.confirmButton":{background:"#4caf50","&:disabled":{opacity:.3}},"& button.cancelButton":{background:"#f44336"}}}})),je=function(e){var t=e.shift,n=e.onSubmit,a=e.onCancel,o=Oe(),i=r.a.useState({date:new Date(t.date),kind:t.kind,start:new Date(t.date),end:new Date(t.date.setHours(t.date.getHours()+1))}),l=Object(k.a)(i,2),c=l[0],u=l[1],s=Object(L.a)(ge),d=Object(k.a)(s,1)[0],m=function(e){var t=e.target,n=we(),a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e=new Date(e),"m"===t?new Date(e.setMinutes(e.getMinutes()+15*n)):new Date(e.setHours(e.getHours()+n))},o=function(e){u(Object(j.a)({},c,Object(N.a)({},t,e)))};return r.a.createElement("div",{className:n.timeSelectContainer},r.a.createElement("h4",{className:n.timeSelectTitle},{start:"\u05d4\u05ea\u05d7\u05dc\u05d4",end:"\u05e1\u05d9\u05d5\u05dd"}[t]),r.a.createElement("div",{className:n.timeSelectItems,style:{flexDirection:"row-reverse",alignItems:"center"}},r.a.createElement("div",{className:n.timeSelectItem},r.a.createElement("button",{onClick:function(e){return o(a(c[t],"h",-1))}},Ee(a(c[t],"h",-1).getHours())),r.a.createElement("div",null,Ee(c[t].getHours())),r.a.createElement("button",{onClick:function(e){return o(a(c[t],"h"))}},Ee(a(c[t],"h").getHours()))),r.a.createElement("span",null,":"),r.a.createElement("div",{className:n.timeSelectItem},r.a.createElement("button",{onClick:function(e){return o(a(c[t],"m",-1))}},Ee(a(c[t],"m",-1).getMinutes())),r.a.createElement("div",null,Ee(c[t].getMinutes())),r.a.createElement("button",{onClick:function(e){return o(a(c[t],"m"))}},Ee(a(c[t],"m").getMinutes())))))},f="",p=ve(c.start,c.end);return 0===p&&(f="\u05e9\u05e2\u05ea \u05e1\u05d9\u05d5\u05dd \u05d6\u05d4\u05d4 \u05dc\u05e9\u05e2\u05ea \u05d4\u05ea\u05d7\u05dc\u05d4"),p<0&&(f="\u05e9\u05e2\u05ea \u05e1\u05d9\u05d5\u05dd \u05e7\u05d8\u05e0\u05d4 \u05d9\u05d5\u05ea\u05e8 \u05de\u05e9\u05e2\u05ea \u05d4\u05ea\u05d7\u05dc\u05d4"),r.a.createElement("div",{className:o.container},r.a.createElement("div",{onClick:function(e){return null===a||void 0===a?void 0:a()},className:o.outline}),r.a.createElement("div",{className:o.box},r.a.createElement("header",{className:o.header},r.a.createElement("h3",null,"\u05d4\u05d5\u05e1\u05e4\u05ea \u05e8\u05d9\u05e9\u05d5\u05dd"),r.a.createElement("span",null,c.date.getDate()," \u05dc",$[c.date.getMonth()],", ",c.date.getFullYear(),", ",ee(c.date))),r.a.createElement("main",{className:o.main,style:{flexDirection:"row",alignItems:"flex-start"}},r.a.createElement(m,{target:"start"}),r.a.createElement(m,{target:"end"})),r.a.createElement("footer",{className:o.footer},r.a.createElement("h4",{className:o.footerItem},r.a.createElement("span",null,'\u05e1\u05d4"\u05db \u05e9\u05e2\u05d5\u05ea:')," ",ve(c.start,c.end)),r.a.createElement("div",{style:{color:"red"},className:o.footerItem},f),r.a.createElement("div",{className:o.footerControls,style:{flexDirection:"row"}},r.a.createElement("button",{className:"confirmButton",disabled:Boolean(f),onClick:function(){d({variables:{input:c}}).then((function(e){e.data;null===n||void 0===n||n()})).catch((function(e){console.log(e)}))}},"\u05d0\u05d9\u05e9\u05d5\u05e8"),r.a.createElement("button",{className:"cancelButton",onClick:function(e){return null===a||void 0===a?void 0:a()}},"\u05d1\u05d8\u05dc")))))},ke=function(e){var t=e.auth,n=e.loading,o=e.error,i=e.data,l=we(),c=r.a.useState(),u=Object(k.a)(c,2),s=u[0],d=u[1],m=Object(L.a)(xe),f=Object(k.a)(m,1)[0],p=Object(K.a)("(max-width: 768px)");if(n)return r.a.createElement("div",null,"loading");if(o)return r.a.createElement("div",null,o.message);var g=(i||{}).getShift;g&&(g.hours=0,g.workers=0,g.records.forEach((function(e){e.start=new Date(e.start),e.end=new Date(e.end),e.hours=(e.end.getTime()-e.start.getTime())/1e3/60/60,g.hours+=e.hours,g.workers++})),g.perhour=g.tip?Number((g.tip/g.hours).toFixed(2)):0,g.deposit=g.perhour<=30?0:10*g.hours);var h=function(e){return e<10?"0".concat(e):e.toString()};console.log(g);var b=function(e){d({date:new Date(g.date),kind:ee(new Date(g.date))})},x=function(){f({variables:{input:{date:g.date}}}).then((function(e){var t=e.data;console.log(t)})).catch((function(e){console.log(e)}))},E={index:{text:"#",value:function(e){return g.records.indexOf(e)+1}},firstname:{text:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9",flex:2,value:function(e){return e.user.firstname}},lastname:{text:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4",flex:2,value:function(e){return e.user.lastname}},id:{text:"\u05de\u05e1\u05e4\u05e8 \u05ea\u05d6",flex:2,value:function(e){return e.user.id}},start:{text:"\u05d4\u05ea\u05d7\u05dc\u05d4",value:function(e){return"".concat(h(e.start.getHours()),":").concat(h(e.start.getMinutes()))}},end:{text:"\u05e1\u05d5\u05e3",value:function(e){return"".concat(h(e.end.getHours()),":").concat(h(e.end.getMinutes()))}},hours:{text:"\u05e9\u05e2\u05d5\u05ea",value:function(e){return e.hours}},tip:{text:"\u05ea\u05e9\u05e8",value:function(e){return g.perhour?(e.hours*g.perhour).toFixed(2):""}},discount:{text:"\u05de\u05e7\u05d3\u05de\u05d4",value:function(e){return g.perhour?g.perhour>30?(e.hours*g.perhour-10*e.hours).toFixed(2):(e.hours*g.perhour).toFixed(2):""}},deposit:{text:"\u05d4\u05e4\u05e8\u05e9\u05d4",value:function(e){return g.perhour?g.perhour>30?(10*e.hours).toFixed(2):(30*e.hours-e.hours*g.perhour).toFixed(2):""}},sign:{text:"\u05e1\u05d8\u05d0\u05d8\u05d5\u05e1",value:function(e){return e.signed?"\u05e0\u05dc\u05e7\u05d7":g.status.signed&&e.user.id===t.user.id?r.a.createElement("button",{className:l.signRecordButton,onClick:x},"\u05dc\u05e7\u05d7\u05ea\u05d9"):""}}},v={tip:'\u05e1\u05d4"\u05db \u05ea\u05e9\u05e8',hours:'\u05e1\u05d4"\u05db \u05e9\u05e2\u05d5\u05ea',perhour:"\u05ea\u05e9\u05e8 \u05dc\u05e9\u05e2\u05d4",deposit:'\u05e1\u05d4"\u05db \u05d4\u05e4\u05e8\u05e9\u05d4'};return p?r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(je,{shift:s,onSubmit:function(){return d(void 0)},onCancel:function(){return d(void 0)}}),r.a.createElement("div",{style:{width:"100%",flex:1}},0===g.records.length&&r.a.createElement("h3",null,"\u05d0\u05d9\u05df \u05e8\u05d9\u05e9\u05d5\u05de\u05d9\u05dd \u05dc\u05de\u05e9\u05de\u05e8\u05ea \u05d6\u05d5"),!g.isInShift&&!g.status.closed&&r.a.createElement("button",{className:l.addRecordButton,onClick:b},"\u05d4\u05d5\u05e1\u05e3 \u05e8\u05d9\u05e9\u05d5\u05dd")),r.a.createElement("div",{style:{flexDirection:"row",flexWrap:"wrap"}},g.records.map((function(e,t){return r.a.createElement("div",{key:t,style:{flex:1,margin:"10px 0 0",minWidth:"280px",width:"100%",boxSizing:"border-box",borderRadius:"8px",overflow:"hidden",border:".5px solid #bbb"}},Object.keys(E).map((function(t,n){return 0===n?r.a.createElement(a.Fragment,{key:t}):r.a.createElement("div",{key:n,style:{flexDirection:"row",borderBottom:n+1!==Object.keys(E).length?".5px solid #bbb":0}},r.a.createElement("div",{style:{padding:"4px 8px",boxSizing:"border-box",backgroundColor:"#eee",flex:1}},E[t].text),r.a.createElement("div",{style:{padding:"4px 8px",boxSizing:"border-box",flex:1}},E[t].value(e)))})))})))):r.a.createElement("div",{className:l.container},s&&r.a.createElement(je,{shift:s,onSubmit:function(){return d(void 0)},onCancel:function(){return d(void 0)}}),r.a.createElement("header",{className:l.header,style:{flexDirection:"row"}},Object.keys(E).map((function(e,t){return r.a.createElement("div",{key:t,style:{alignItems:"center",flex:0===t?0:E[e].flex||1}},E[e].text)}))),r.a.createElement("main",{className:l.main},g.records.map((function(e,t){return r.a.createElement("div",{className:l.row,key:t,style:{flexDirection:"row"}},Object.keys(E).map((function(t,n){return r.a.createElement("div",{className:l.cell,key:n,style:{alignItems:"center",flex:0===n?0:E[t].flex||1}},E[t].value(e))})))})),0===g.records.length&&r.a.createElement("div",{className:l.titleRow},"\u05d0\u05d9\u05df \u05e8\u05d9\u05e9\u05d5\u05de\u05d9\u05dd \u05dc\u05de\u05e9\u05de\u05e8\u05ea \u05d6\u05d5"),g.status.opened&&!g.isInShift&&r.a.createElement("div",{className:l.titleRow},r.a.createElement("button",{className:l.addRecordButton,onClick:b},"\u05d4\u05d5\u05e1\u05e3 \u05e8\u05d9\u05e9\u05d5\u05dd"))),r.a.createElement("footer",{className:l.footer,style:{flexDirection:"row",background:g.records.length%2?"#efefef":"#fff"}},Object.keys(v).map((function(e,t){return r.a.createElement("div",{className:l.item,key:t,style:{width:"".concat(100/Object.keys(v).length,"%")}},r.a.createElement("span",null,v[e]),g[e]||0)}))))};function Ne(){var e=Object(m.a)(["\n    subscription {\n        recordAdded {\n            start\n            end \n            user {\n                id\n                firstname\n                lastname \n            }\n        }\n    }\n"]);return Ne=function(){return e},e}var ye=Object(f.a)(Ne()),Ce=Object(y.a)((function(e){return{header:Object(N.a)({flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",padding:"20px 0"},e.breakpoints.down(521),{flexDirection:"column"}),main:{marginBottom:"20px"},closeShiftButton:{background:"#f44336",color:"#fff",fontWeight:500,border:0,display:"flex",flex:1,alignItems:"center",justifyContent:"center",borderRadius:"8px",marginRight:"10px",padding:"0 10px",boxSizing:"border-box",cursor:"pointer",outline:"none",WebkitTapHighlightColor:"transprent"},signShiftButton:{background:"#4caf50",color:"#fff",fontWeight:500,border:0,display:"flex",flex:1,alignItems:"center",justifyContent:"center",borderRadius:"8px",marginRight:"10px",padding:"0 10px",boxSizing:"border-box",cursor:"pointer",outline:"none",WebkitTapHighlightColor:"transprent"}}})),Se=function(e){var t=e.date,n=Ce(),a=Oe(),o=r.a.useState(!1),i=Object(k.a)(o,2),l=i[0],c=i[1],u=r.a.useState(0),s=Object(k.a)(u,2),d=s[0],m=s[1],f=Object(L.a)(he),p=Object(k.a)(f,1)[0];return r.a.createElement(r.a.Fragment,null,l&&r.a.createElement("div",{style:{zIndex:1499,position:"fixed",width:"100%",height:"100%",top:0,left:0}},r.a.createElement("div",{className:a.container},r.a.createElement("div",{onClick:function(e){return c(!1)},className:a.outline}),r.a.createElement("div",{className:a.box},r.a.createElement("header",{className:a.header},r.a.createElement("h3",null,"\u05e1\u05d2\u05d9\u05e8\u05ea \u05de\u05e9\u05de\u05e8\u05ea"),r.a.createElement("span",null,t.getDate()," \u05dc",$[t.getMonth()],", ",t.getFullYear())),r.a.createElement("main",{className:a.main},r.a.createElement("h4",null,"\u05d4\u05d6\u05df \u05e1\u05db\u05d5\u05dd \u05ea\u05e9\u05e8"),r.a.createElement("input",{type:"number",value:d.toString(),onChange:function(e){return m(Number(e.currentTarget.value))}})),r.a.createElement("footer",{className:a.footer},r.a.createElement("button",{onClick:function(e){p({variables:{input:{date:t,tip:d}}}).then((function(e){var t=e.data;console.log(t),c(!1)})).catch((function(e){console.log(e)}))}},"\u05d0\u05d9\u05e9\u05d5\u05e8"),r.a.createElement("button",{onClick:function(e){return c(!1)}},"\u05d1\u05d8\u05dc"))))),r.a.createElement("div",null,r.a.createElement("button",{className:n.closeShiftButton,onClick:function(e){return c(!0)}},"\u05e1\u05d2\u05d5\u05e8 \u05de\u05e9\u05de\u05e8\u05ea")))},De=function(e){var t=e.date,n=Ce(),a=Object(L.a)(be),o=Object(k.a)(a,2),i=o[0],l=o[1].loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("button",{className:n.signShiftButton,disabled:l,onClick:function(e){i({variables:{input:{date:t}}}).then((function(e){var t=e.data;console.log(t)})).catch((function(e){console.log(e)}))}},"\u05d0\u05d9\u05e9\u05d5\u05e8 \u05de\u05e0\u05d4\u05dc")))},Ie=function(e){var t=e.date,n=void 0===t?new Date:t;return r.a.createElement("time",{dateTime:n.toLocaleString()},Ee(n.getHours()),":",Ee(n.getMinutes()),", ",_.long[n.getDay()],", ",n.getDate()," \u05dc",$[n.getMonth()]," ",n.getFullYear())},Re=function(e){var t=e.auth,n=Object(K.a)("(max-width: 520px)"),a=Ce(),o=Object(F.g)(),i=Object(F.h)(),l=i.date,c=i.kind;l=l?new Date(l):new Date,c=c||ee(l);var s=Object(u.a)(w,{variables:{date:new Date(l.getFullYear(),l.getMonth(),l.getDate(),c===U.MORNING?9:16,0,0)},fetchPolicy:"no-cache"}),d=s.loading,m=s.error,f=s.data,p=s.refetch;(0,s.subscribeToMore)({document:ye,updateQuery:function(e,t){t.subscriptionData;p()}});var g=ee(new Date),h=(f||{getShift:null}).getShift,b=!(d||!f)&&(("\u05de\u05e0\u05d4\u05dc"===t.user.role||"\u05de\u05e4\u05ea\u05d7"===t.user.role)&&!Boolean(h.status.signed)&&Boolean(h.status.closed)),x=!d&&f&&!Boolean(h.status.closed)&&h.isInShift,E=function(){if(d||m||!f)return r.a.createElement("div",null,"\u05d8\u05d5\u05e2\u05df");if(h.status.closed&&!h.isInShift&&"\u05de\u05dc\u05e6\u05e8"===t.user.role)return r.a.createElement("div",null,r.a.createElement("h3",null,"\u05de\u05e9\u05de\u05e8\u05ea \u05e1\u05d2\u05d5\u05e8\u05d4"),r.a.createElement("p",null,"\u05d0\u05d9\u05df \u05d0\u05e4\u05e9\u05e8\u05d5\u05ea \u05dc\u05e6\u05e4\u05d5\u05ea \u05d1\u05de\u05e9\u05de\u05e8\u05ea \u05db\u05d9\u05d5\u05d5\u05df \u05e9\u05d0\u05d9\u05e0\u05da \u05e0\u05de\u05e6\u05d0 \u05d1\u05d4"));var e=h.status.closed?Object(j.a)({},h.status.closed,{date:new Date(h.status.closed.date)}):null,n=h.status.signed?Object(j.a)({},h.status.signed,{date:new Date(h.status.signed.date)}):null;return r.a.createElement("div",null,h.status.closed&&r.a.createElement("div",null,r.a.createElement("h3",null,"\u05de\u05e9\u05de\u05e8\u05ea \u05e1\u05d2\u05d5\u05e8\u05d4"),e&&r.a.createElement("p",null,"\u05e0\u05e1\u05d2\u05e8\u05d4 \u05e2\u05dc \u05d9\u05d3\u05d9 ",r.a.createElement("b",null,e.user.firstname," ",e.user.lastname)," ",r.a.createElement(Ie,{date:e.date})),n&&r.a.createElement("p",null,"\u05d0\u05d5\u05e9\u05e8\u05d4 \u05e2\u05dc \u05d9\u05d3\u05d9 ",r.a.createElement("b",null,n.user.firstname," ",n.user.lastname)," ",r.a.createElement(Ie,{date:n.date}))),r.a.createElement(ke,{auth:t,loading:d,error:m,data:f}))};return r.a.createElement(Y,{auth:t},r.a.createElement("header",{className:a.header},r.a.createElement(P,{handleChange:function(e){var t="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate());return G(e)&&g===c?o.push("/"):o.push("/s/".concat(t,"/").concat(c))},date:l}),r.a.createElement("div",{style:{position:"relative",marginTop:n?"10px":0,width:n?"100%":"auto",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement(ne,{kind:c,handleChange:function(e){var t=l||new Date,n="".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate());return G(t)&&g===e?o.push("/"):o.push("/s/".concat(n,"/").concat(e))}}),b&&r.a.createElement(De,{date:new Date(h.date)}),x&&r.a.createElement(Se,{date:new Date(h.date)}))),r.a.createElement("main",{className:a.main},r.a.createElement(E,null)))},Te=function(e){var t=e.auth;return r.a.createElement(Re,{auth:t})},Be=n(168),ze=n(169),He=n(170),Ae=n(173),We=[{type:"text",name:"id",icon:Be.a,placeholder:'\u05de\u05e1\u05e4\u05e8 \u05ea"\u05d6'},{type:"password",name:"password",icon:ze.a,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d4"}],Me=Object(y.a)((function(e){return{container:{height:"100%"},wrapper:Object(N.a)({maxWidth:"480px",width:"100%",margin:"auto auto",flexDirection:"column"},e.breakpoints.down(500),{padding:"0 20px",margin:"auto 0"}),header:{width:"100%",alignItems:"center",justifyContent:"center","& div.lock-icon":{"& svg":{fontSize:"64px",color:"#6c5549"}},"& h1":{fontSize:"22px",fontWeight:700,letterSpacing:".0875rem",textAlign:"center",color:"#6c5549"},"& p":{color:"#999",maxWidth:"80%",textAlign:"center",margin:"12px 0",fontSize:"16px"}},content:{position:"relative"},inputField:{flexDirection:"row",width:"60%",margin:"0 auto",justifyContent:"center",height:"60px"},inputIcon:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",marginLeft:"5px","& svg":{fontSize:"34px",color:"#999"},"&.active":{"& svg":{color:"#6c5549"}}},input:{display:"flex",alignItems:"center",width:"100%",fontSize:"18px",border:0,borderBottom:"1.5px solid #999",background:0,outline:"none",WebkitTapHighlightColor:"transparent",padding:"4px 8px",boxSizing:"border-box","&:focus":{borderColor:"#6c5549"}},submitButton:{display:"flex",alignItems:"center",justifyContent:"center",width:"60%",minHeight:"40px",margin:"12px auto",backgroundColor:"#4caf50",color:"#fff",fontSize:"14px",fontWeight:600,userSelect:"none",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:"#357a38"},"&:disabled":{opacity:.5},"& svg":{color:"#0089c0"}},errorMessage:{position:"absolute",top:"110%",width:"100%",color:"#f44336",fontSize:"16px",fontWeight:400,alignItems:"center"}}})),Ye=function(){var e=Me(),t=r.a.useState(null),n=Object(k.a)(t,2),a=n[0],o=n[1],i=r.a.useState({input:{id:"",password:""}}),c=Object(k.a)(i,2),u=c[0],s=c[1],d=Object(L.a)(de),m=Object(k.a)(d,1)[0],f=function(e){e.currentTarget.readOnly=!1,o(e.currentTarget.name)},p=function(e){return"id"===e.currentTarget.name&&isNaN(Number(e.currentTarget.value))?e.preventDefault():s(Object(j.a)({},u,{error:null,input:Object(j.a)({},u.input,Object(N.a)({},e.currentTarget.name,e.currentTarget.value))}))};return r.a.createElement("div",{className:e.container},r.a.createElement("div",{className:e.wrapper},r.a.createElement("header",{className:e.header},r.a.createElement("div",{className:"lock-icon"},r.a.createElement(He.a,null)),r.a.createElement("h1",null,"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"),r.a.createElement("p",null,"\u05d9\u05e9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05d1\u05d0\u05de\u05e6\u05e2\u05d5\u05ea \u05de\u05e1\u05e4\u05e8 \u05ea\u05d6 \u05d5\u05e1\u05d9\u05e1\u05de\u05d4, \u05d1\u05de\u05d9\u05d3\u05d4 \u05d5\u05d0\u05d7\u05d3 \u05d4\u05e4\u05e8\u05d8\u05d9\u05dd \u05d7\u05e1\u05e8, \u05d9\u05e9 \u05dc\u05e4\u05e0\u05d5\u05ea \u05dc\u05de\u05e0\u05d4\u05dc.")),r.a.createElement("main",{className:e.content},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s(Object(j.a)({},u,{loading:!0})),m({variables:{input:u.input}}).then((function(e){var t=e.data.Login.token;return t?(localStorage.setItem("token",t),window.location.reload()):s(Object(j.a)({},u,{loading:!1,error:"\u05de\u05e9\u05d4\u05d5 \u05d4\u05e9\u05ea\u05d1\u05e9 \u05d9\u05e9 \u05dc\u05e8\u05e2\u05e0\u05df \u05d0\u05ea \u05d4\u05d3\u05e3 \u05d5\u05dc\u05e0\u05e1\u05d5\u05ea \u05e9\u05d5\u05d1"}))})).catch((function(e){s(Object(j.a)({},u,{loading:!1,error:e.message}))}))},autoComplete:"off"},We.map((function(t,n){return r.a.createElement("div",{key:n,className:e.inputField},r.a.createElement("label",{htmlFor:t.name,className:Object(W.a)(e.inputIcon,t.name===a&&"active")},r.a.createElement(t.icon,null)),r.a.createElement("div",{style:{alignItems:"center",justifyContent:"center",height:"60px"}},r.a.createElement("input",{readOnly:!0,onBlur:function(){return o(null)},onFocus:f,className:e.input,type:t.type,placeholder:t.placeholder,value:u.input[t.name],name:t.name,id:t.name,onChange:p})))})),r.a.createElement("div",null,r.a.createElement(Ae.a,{variant:"contained",color:"inherit",className:e.submitButton,type:"submit",disabled:Boolean(u.loading||u.error||!u.input.id||!u.input.password)},u.loading?r.a.createElement("div",null,r.a.createElement(l.a,{size:25})):"\u05d4\u05ea\u05d7\u05d1\u05e8")),u.error&&r.a.createElement("div",{className:e.errorMessage},u.error)))))},Fe=Object(y.a)((function(e){return{row:{flexDirection:"row","& div":{flex:1}}}})),Le=function(e){var t=e.onChange,n=e.auth,a=e.items,o=e.type,i=Fe(),l=Object(L.a)(xe),c=Object(k.a)(l,1)[0];return r.a.createElement("div",null,a.length>0&&r.a.createElement("header",{className:i.row},r.a.createElement("div",null,"\u05ea\u05d0\u05e8\u05d9\u05da"),r.a.createElement("div",null,"\u05de\u05e9\u05de\u05e8\u05ea"),r.a.createElement("div",null,"\u05e9\u05e2\u05d5\u05ea"),r.a.createElement("div",null,"\u05dc\u05e9\u05e2\u05d4"),r.a.createElement("div",null,"\u05ea\u05e9\u05e8"),r.a.createElement("div",null,"\u05de\u05e7\u05d3\u05de\u05d4"),r.a.createElement("div",null,"\u05d4\u05e4\u05e8\u05e9\u05d4/\u05d4\u05e9\u05dc\u05de\u05d4"),r.a.createElement("div",null,"\u05e4\u05e2\u05d5\u05dc\u05d5\u05ea")),r.a.createElement("main",null,0===a.length&&r.a.createElement("div",null,"\u05d0\u05d9\u05df \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd"),a.map((function(e,a){var l=new Date(e.date),u=e.records.find((function(e){return e.user.id===n.user.id})),s=(new Date(u.end).getTime()-new Date(u.start).getTime())/1e3/60/60,d=0;e.records.forEach((function(e){d+=(new Date(e.end).getTime()-new Date(e.start).getTime())/1e3/60/60}));var m=e.tip/d,f=m*s,p=m<=30?30*s-f:-10*s,g=m<=30?f:f+p,h=["closed","unsigned"];return r.a.createElement("div",{key:a,className:i.row},r.a.createElement("div",null,_.long[l.getDay()],", ",l.getDate()," \u05dc",$[l.getMonth()],", ",l.getFullYear()),r.a.createElement("div",null,ee(l)),r.a.createElement("div",null,s),r.a.createElement("div",null,m.toFixed(2)),r.a.createElement("div",null,h.includes(o)?"".concat(f.toFixed(2)):"-"),r.a.createElement("div",null,h.includes(o)?"".concat(g.toFixed(2)):"-"),r.a.createElement("div",null,h.includes(o)?"".concat(p.toFixed(2)):"-"),r.a.createElement("div",null,r.a.createElement(S.b,{to:"/s/".concat(l.getFullYear(),"-").concat(l.getMonth()+1,"-").concat(l.getDate(),"/").concat(ee(l))},"\u05e2\u05d1\u05d5\u05e8 \u05dc\u05de\u05e9\u05de\u05e8\u05ea"),"unsigned"===o&&r.a.createElement("button",{onClick:function(e){c({variables:{input:{date:l}}}).then((function(e){e.data,null===t||void 0===t||t()})).catch((function(e){console.log(e)}))}},"\u05dc\u05e7\u05d7\u05ea\u05d9")))}))))},$e=function(e){var t=e.auth,n=Object(u.a)(O,{fetchPolicy:"no-cache"}),a=n.loading,o=n.error,i=n.data,l=n.refetch;if(a)return r.a.createElement("div",null,"\u05d8\u05d5\u05e2\u05df");if(o)return r.a.createElement("div",null,o.message);var c=(i||{}).getUserShifts,s=c.filter((function(e){return e.status.opened})),d=c.filter((function(e){return e.status.closed&&e.records.find((function(e){return e.user.id===t.user.id&&e.signed}))})),m=c.filter((function(e){return e.status.signed&&e.records.find((function(e){return e.user.id===t.user.id&&!e.signed}))})),f=c.filter((function(e){return e.status.closed&&!e.status.signed&&e.records.find((function(e){return e.user.id===t.user.id}))}));console.log({opened:s,closed:d,unsigned:m});var p=0,g=0,h=0,b=0,x=0;c.forEach((function(e){e.hours=0,e.records.forEach((function(t){t.hours=(new Date(t.end).getTime()-new Date(t.start).getTime())/1e3/60/60,e.hours+=t.hours})),e.perhour=e.tip?e.tip/e.hours:0;var n=e.records.find((function(e){return e.user.id===t.user.id}));n.tip=e.perhour*n.hours,n.discharge=e.perhour<=30?30*n.hours-n.tip:-10*n.hours,n.deposit=e.perhour<=30?n.tip:n.tip+n.discharge,p+=!e.status.opened&&n.hours,g+=!e.status.opened&&n.tip,h+=!e.status.opened&&n.deposit,b+=!e.status.opened&&n.discharge,x+=!e.status.opened&&n.discharge>0?n.discharge:0}));var E=p/c.length,v=g/p;return r.a.createElement(Y,{auth:t},r.a.createElement("header",null,r.a.createElement("button",null,r.a.createElement(C.a,{src:"http://".concat(window.location.hostname,":4000").concat(t.user.avatar)})),r.a.createElement("div",null,r.a.createElement("h1",null,t.user.firstname," ",t.user.lastname),r.a.createElement("p",{style:{direction:"ltr",width:"auto",textAlign:"right"}},"@",t.user.username)),r.a.createElement("div",null,r.a.createElement("button",null,"\u05e2\u05e8\u05d5\u05da \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc"))),r.a.createElement("main",null,r.a.createElement("div",null,r.a.createElement("h3",null,"\u05db\u05dc\u05dc\u05d9"),r.a.createElement("div",null,r.a.createElement("span",null,'\u05e1\u05d4"\u05db \u05e9\u05e2\u05d5\u05ea: ')," ",p),r.a.createElement("div",null,r.a.createElement("span",null,'\u05e1\u05d4"\u05db \u05de\u05e9\u05de\u05e8\u05d5\u05ea: ')," ",c.length),r.a.createElement("div",null,r.a.createElement("span",null,'\u05e1\u05d4"\u05db \u05ea\u05e9\u05e8: ')," ",g.toFixed(2)),r.a.createElement("div",null,r.a.createElement("span",null,'\u05e1\u05d4"\u05db \u05de\u05e7\u05d3\u05de\u05d4: ')," ",h.toFixed(2)),r.a.createElement("div",null,r.a.createElement("span",null,'\u05e1\u05d4"\u05db \u05d4\u05e4\u05e8\u05e9\u05d5\u05ea: ')," ",b.toFixed(2)),r.a.createElement("div",null,r.a.createElement("span",null,'\u05e1\u05d4"\u05db \u05d4\u05e9\u05dc\u05de\u05d5\u05ea: ')," ",x.toFixed(2)),r.a.createElement("div",null,r.a.createElement("span",null,"\u05de\u05de\u05d5\u05e6\u05e2 \u05e9\u05e2\u05d5\u05ea \u05d9\u05d5\u05de\u05d9\u05d5\u05ea: ")," ",E.toFixed(2)),r.a.createElement("div",null,r.a.createElement("span",null,"\u05de\u05de\u05d5\u05e6\u05e2 \u05ea\u05e9\u05e8 \u05dc\u05e9\u05e2\u05d4: ")," ",v.toFixed(2))),r.a.createElement("div",null,r.a.createElement("h3",null,"\u05de\u05e9\u05de\u05e8\u05d5\u05ea \u05e4\u05ea\u05d5\u05d7\u05d5\u05ea"),r.a.createElement(Le,{auth:t,items:s,type:"opened"})),r.a.createElement("div",null,r.a.createElement("h3",null,"\u05de\u05e9\u05de\u05e8\u05d5\u05ea \u05d1\u05d4\u05de\u05ea\u05e0\u05d4 \u05dc\u05dc\u05e7\u05d9\u05d7\u05ea \u05ea\u05e9\u05e8"),r.a.createElement(Le,{onChange:function(){return l()},auth:t,items:m,type:"unsigned"})),r.a.createElement("div",null,r.a.createElement("h3",null,"\u05de\u05e9\u05de\u05e8\u05d5\u05ea \u05d1\u05d4\u05de\u05ea\u05e0\u05d4 \u05dc\u05d0\u05d9\u05e9\u05d5\u05e8 \u05de\u05e0\u05d4\u05dc"),r.a.createElement(Le,{auth:t,items:f,type:"waiting"})),r.a.createElement("div",null,r.a.createElement("h3",null,"\u05de\u05e9\u05de\u05e8\u05d5\u05ea \u05e1\u05d2\u05d5\u05e8\u05d5\u05ea"),r.a.createElement(Le,{auth:t,items:d,type:"closed"}))))},_e=n(171),Ge=n(172),Ue=Object(y.a)((function(e){var t;return{container:{flex:1,padding:"10px 0",boxSizing:"border-box"},fields:Object(N.a)({flex:1,flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"center"},e.breakpoints.down(480),{flexDirection:"column",alignItems:"flex-start",margin:"10px"}),field:{"& input":{margin:"5px",outline:"none",WebkitTapHighlightColor:"transparent"}},form:{display:"flex",flex:1,alignItems:"center",flexDirection:"column"},formError:{width:"100%",color:"red",alignItems:"center",justifyContent:"center"},formControls:(t={flexDirection:"row"},Object(N.a)(t,e.breakpoints.down(640),{width:"100%",alignItems:"center",justifyContent:"center"}),Object(N.a)(t,"& button",{margin:"0 5px"}),t),usersList:{flex:1,flexDirection:"row",flexWrap:"wrap",padding:"0 10px",boxSizing:"border-box",maxHeight:"200px",overflowY:"auto"},userCardContainer:{minWidth:"200px",flexDirection:"row",alignItems:"center",justifyContent:"center",padding:"10px 16px",boxSizing:"border-box",border:".5px solid #eee",borderRadius:"8px","&:not(last-child)":{marginLeft:"8px",marginBottom:"8px"}},userCardAvatar:{},userCardDetails:{flex:1,flexDirection:"column",marginRight:"8px","& h3.fullname":{fontSize:"16px",fontWeight:500},"& div.username":{fontSize:"12px",color:"#949494",direction:"ltr",textAlign:"right"},"& div.item":{flexDirection:"row",fontWeight:500,alignItems:"center","& span":{marginRight:".3rem",fontWeight:400}}},searchHeader:{padding:"0 10px",marginBottom:"10px","& input":{outline:"none",padding:"10px 16px",boxSizing:"border-box",border:".5px solid #eee",borderRadius:"8px"}},noResultsTitle:{flexDirection:"row","& b":{fontWeight:500}},userSelect:{margin:"0 10px",padding:"10px 16px",boxSizing:"border-box",outline:"none",WebkitTapHighlightColor:"transparent",fontSize:"14px",border:".5px solid #eee",borderRadius:"8px",WebkitAppearance:"none",MozAppearance:"none",textIndent:"1px",textOverflow:""}}})),qe=function(e){var t=e.onClose,n=e.opened,a=Ue(),o=Object(u.a)(v,{skip:!n}),i=o.loading,l=o.error,c=o.data,s=r.a.useState(null),d=Object(k.a)(s,2),m=d[0],f=d[1],p=Object(L.a)(fe),g=Object(k.a)(p,1)[0],h=r.a.useState(null),b=Object(k.a)(h,2),x=b[0],E=b[1];if(i||!c)return r.a.createElement("div",null,"\u05e8\u05e7 \u05e8\u05d2\u05e2...");if(l)return r.a.createElement("div",null,r.a.createElement("h1",null,"\u05de\u05e9\u05d4\u05d5 \u05d4\u05e9\u05ea\u05d1\u05e9"),r.a.createElement("p",null,"\u05d9\u05e9 \u05dc\u05e8\u05e2\u05e0\u05df \u05d0\u05ea \u05d4\u05d3\u05e3 \u05d5\u05dc\u05e0\u05e1\u05d5\u05ea \u05e9\u05d5\u05d1"));var w=(c||[]).getUsers;return r.a.createElement("div",{className:a.container},r.a.createElement("select",{defaultValue:(null===m||void 0===m?void 0:m.id)||0,onChange:function(e){f(w.find((function(t){return t.id===e.currentTarget.value}))||null),E(null)}},r.a.createElement("option",{value:0,disabled:!0},"\u05d1\u05d7\u05e8 \u05de\u05e9\u05ea\u05de\u05e9"),w.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.firstname," ",e.lastname)}))),m&&r.a.createElement("div",null,r.a.createElement("p",null,"\u05d0\u05ea\u05d4 \u05e2\u05d5\u05de\u05d3 \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea ",r.a.createElement("b",null,m.firstname," ",m.lastname," \u05dc\u05e6\u05de\u05d9\u05ea\u05d5\u05ea, \u05db\u05dc \u05d4\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05d9\u05de\u05d7\u05e7\u05d5. \u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05d1\u05e4\u05e2\u05d5\u05dc\u05d4 \u05d6\u05d5?")),r.a.createElement("button",{onClick:function(){g({variables:{id:null===m||void 0===m?void 0:m.id}}).then((function(e){var t=e.data;console.log(t)})).catch((function(e){E(e.message)}))}},"\u05d0\u05d9\u05e9\u05d5\u05e8"),r.a.createElement("button",{onClick:function(){return t()}},"\u05d1\u05d8\u05dc")),x&&r.a.createElement("div",null,x))},Je=function(e){e.onClose,e.opened;var t=Ue(),n=r.a.useState([]),a=Object(k.a)(n,2),o=a[0],i=a[1],l=Object(u.a)(v,{onCompleted:function(){var e=(d||[]).getUsers;i(e)}}),c=l.loading,s=l.error,d=l.data,m=l.refetch,f=r.a.useState(""),p=Object(k.a)(f,2),g=p[0],h=p[1];if(r.a.useEffect((function(){m()})),c||!d)return r.a.createElement("div",null,"\u05e8\u05e7 \u05e8\u05d2\u05e2...");if(s)return r.a.createElement("div",null,r.a.createElement("h1",null,"\u05de\u05e9\u05d4\u05d5 \u05d4\u05e9\u05ea\u05d1\u05e9"),r.a.createElement("p",null,"\u05d9\u05e9 \u05dc\u05e8\u05e2\u05e0\u05df \u05d0\u05ea \u05d4\u05d3\u05e3 \u05d5\u05dc\u05e0\u05e1\u05d5\u05ea \u05e9\u05d5\u05d1"));var b=(d||[]).getUsers,x=function(e){var n=e.user;return r.a.createElement("div",{className:t.userCardContainer},r.a.createElement("div",{className:t.userCardAvatar},r.a.createElement(C.a,{src:n.avatar?"http://".concat(window.location.hostname,":4000").concat(n.avatar):""})),r.a.createElement("div",{className:t.userCardDetails},r.a.createElement("h3",{className:"fullname"},n.firstname," ",n.lastname),r.a.createElement("div",{className:"username"},"@",n.username),r.a.createElement("div",{className:"item"},"\u05ea\u05d6: ",r.a.createElement("span",null,n.id)),r.a.createElement("div",{className:"item"},"\u05ea\u05e4\u05e7\u05d9\u05d3: ",r.a.createElement("span",null,n.role))))};return r.a.createElement("div",{className:t.container},r.a.createElement("header",{className:t.searchHeader},r.a.createElement("input",{type:"text",placeholder:"\u05d7\u05e4\u05e9 \u05e9\u05dd, \u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9 \u05d0\u05d5 \u05de\u05e1\u05e4\u05e8 \u05ea\u05d6",value:g,onChange:function(e){var t=e.currentTarget.value;h(t);var n=b.filter((function(e){return e.username.startsWith(t)||e.firstname.startsWith(t)||e.lastname.startsWith(t)||e.id.startsWith(t)}));i(n)}})),r.a.createElement("main",{className:t.usersList},o.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(x,{user:e}))})),0===o.length&&g&&r.a.createElement("div",{className:t.noResultsTitle},"\u05d0\u05d9\u05df \u05ea\u05d5\u05e6\u05d0\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8\xa0",r.a.createElement("b",null,g))))},Ve=function(e){var t=e.onClose,n=Ue(),a={input:{id:"",firstname:"",lastname:""}},o=Object(L.a)(me),i=Object(k.a)(o,1)[0],l=r.a.useState(a),c=Object(k.a)(l,2),u=c[0],s=c[1],d=function(e){e.currentTarget.readOnly=!1},m=function(e){return"id"===e.currentTarget.name&&isNaN(Number(e.currentTarget.value))?e.preventDefault():s(Object(j.a)({},u,{success:null,error:null,input:Object(j.a)({},u.input,Object(N.a)({},e.currentTarget.name,e.currentTarget.value.trim()))}))};return r.a.createElement("div",{className:n.container},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s(Object(j.a)({},u,{loading:!0})),i({variables:{input:u.input}}).then((function(e){var t=e.data;return console.log(t),s(Object(j.a)({},a,{success:"\u05de\u05e9\u05ea\u05de\u05e9 \u05e0\u05d5\u05e6\u05e8 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"}))})).catch((function(e){return s(Object(j.a)({},u,{loading:!1,error:e.message}))}))},className:n.form,autoComplete:"off"},r.a.createElement("input",{style:{display:"none"}}),r.a.createElement("div",{className:n.fields},[{name:"id",placeholder:"\u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea"},{name:"firstname",placeholder:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"},{name:"lastname",placeholder:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"}].map((function(e,t){return r.a.createElement("div",{key:t,className:n.field},r.a.createElement("input",Object.assign({readOnly:!0,type:"text"},e,{id:e.name,onFocus:d,onChange:m,value:u.input[e.name]})))})),r.a.createElement("div",{className:n.formControls},r.a.createElement("button",{type:"submit",disabled:Boolean(u.loading||u.error||!u.input.id||!u.input.firstname||!u.input.lastname)},"\u05d4\u05d5\u05e1\u05e3"),r.a.createElement("button",{onClick:function(e){null===t||void 0===t||t()}},"\u05d1\u05d8\u05dc")),u.error&&r.a.createElement("div",{className:n.formError},u.error),u.success&&r.a.createElement("div",{className:n.formError,style:{color:"green"}},u.success))))},Pe=function(e){var t=e.onClose,n=(e.opened,Ue()),a=r.a.useState(!1),o=Object(k.a)(a,2),i=o[0],l=o[1],c=Object(u.a)(v,{skip:!i}),s=c.loading,d=c.error,m=c.data,f=c.refetch,p={account:{update:{}},loading:!1,response:"",changed:!1,error:null},g=r.a.useState(p),h=Object(k.a)(g,2),b=h[0],x=h[1],E=Object(L.a)(pe),w=Object(k.a)(E,1)[0];if(r.a.useEffect((function(){l(!0)}),[]),s||!m)return r.a.createElement("div",null,"\u05e8\u05e7 \u05e8\u05d2\u05e2...");if(d)return r.a.createElement("div",null,r.a.createElement("h1",null,"\u05de\u05e9\u05d4\u05d5 \u05d4\u05e9\u05ea\u05d1\u05e9"),r.a.createElement("p",null,"\u05d9\u05e9 \u05dc\u05e8\u05e2\u05e0\u05df \u05d0\u05ea \u05d4\u05d3\u05e3 \u05d5\u05dc\u05e0\u05e1\u05d5\u05ea \u05e9\u05d5\u05d1"));var O=function(e){var t=y.find((function(e){return e.id===b.account.id}))||null,n=!0;t&&t[e.currentTarget.name]===e.currentTarget.value&&(n=!1),x(Object(j.a)({},b,{changed:n,account:Object(j.a)({},b.account,{update:Object(j.a)({},b.account.update,Object(N.a)({},e.currentTarget.name,e.currentTarget.value))})}))},y=(m||[]).getUsers;return r.a.createElement("div",{className:n.container},r.a.createElement("select",{className:n.userSelect,defaultValue:"0",onSelect:function(e){return e.currentTarget.blur()},onChange:function(e){var t=y.find((function(t){return t.id===e.currentTarget.value}))||null;x(Object(j.a)({},p,{account:{update:t,id:t.id}}))}},r.a.createElement("option",{value:"0",disabled:!0},"\u05d1\u05d7\u05e8 \u05de\u05e9\u05ea\u05de\u05e9"),y.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.firstname," ",e.lastname)}))),Object.keys(b.account.update).length>0&&r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),x(Object(j.a)({},b,{loading:!0})),console.log(b.account);var t=b.account.update,n=t.id,a=t.firstname,r=t.lastname,o=t.role,i=b.account.id;w({variables:{input:{target:i,id:n,firstname:a,lastname:r,role:o}}}).then((function(e){var t=e.data.UpdateAccount,n=t.status,a=t.response;if(f(),200===n)return x(Object(j.a)({},b,{response:a}))})).catch((function(e){console.log(e),x(Object(j.a)({},b,{error:e.message}))}))},className:n.form,autoComplete:"off"},r.a.createElement("input",{style:{display:"none"}}),r.a.createElement("div",{className:n.fields},[{name:"id",placeholder:"\u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea"},{name:"firstname",placeholder:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"},{name:"lastname",placeholder:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"}].map((function(e,t){var a=b.account.update[e.name];return r.a.createElement("div",{key:t,className:n.field},r.a.createElement("span",null,e.placeholder),r.a.createElement("input",{type:"text",value:a,name:e.name,placeholder:e.placeholder,onChange:O}))})),r.a.createElement("div",{className:n.field},r.a.createElement("span",null,"\u05ea\u05e4\u05e7\u05d9\u05d3"),r.a.createElement("select",{name:"role",value:b.account.update.role,onChange:O},r.a.createElement("option",{value:0,disabled:!0},"\u05d1\u05d7\u05e8 \u05ea\u05e4\u05e7\u05d9\u05d3"),r.a.createElement("option",{value:"\u05de\u05dc\u05e6\u05e8"},"\u05de\u05dc\u05e6\u05e8"),r.a.createElement("option",{value:"\u05de\u05e0\u05d4\u05dc"},"\u05de\u05e0\u05d4\u05dc"),r.a.createElement("option",{value:"\u05de\u05e4\u05ea\u05d7"},"\u05de\u05e4\u05ea\u05d7")))),r.a.createElement("div",{style:{flexDirection:"row",justifyContent:"flex-end"}},r.a.createElement("button",{disabled:!b.changed,type:"submit"},"\u05e2\u05d3\u05db\u05df"),r.a.createElement("button",{type:"button",onClick:function(e){null===t||void 0===t||t()}},"\u05d1\u05d8\u05dc"))),b.response&&r.a.createElement("div",null,b.response),b.error&&r.a.createElement("div",null,b.error))},Ke=Object(y.a)((function(e){return{container:{minHeight:"calc(100% - 40px)",boxSizing:"border-box",margin:"20px 0"},item:{marginBottom:"12px",maxHeight:"40px",width:"100%",border:"1px solid #eee",background:"#fff",overflow:"hidden",borderRadius:"8px",transition:"max-height 0.5s linear","&.opened":{maxHeight:"100%"}},itemHeader:{height:"40px",width:"100%",background:"#eee","& button":{padding:"4px 12px",boxSizing:"border-box",flexDirection:"row",alignItems:"center",justifyContent:"space-between",fontSize:"16px",fontWeight:500,width:"100%",height:"100%",display:"flex",border:0,background:0,cursor:"pointer",outline:"none",WebkitTapHighlightColor:"transparent"}},itemContent:{minHeight:"40px"}}})),Qe=function(e){var t=e.auth,n=Ke(),a=r.a.useState(null),o=Object(k.a)(a,2),i=o[0],l=o[1];if(!Xe(t))return r.a.createElement(Y,{auth:t},r.a.createElement("div",null,r.a.createElement("h1",null,"\u05d2\u05d9\u05e9\u05d4 \u05e0\u05d3\u05d7\u05ea\u05d4!"),r.a.createElement("p",null,"\u05d0\u05d9\u05df \u05dc\u05da \u05d4\u05e8\u05e9\u05d0\u05d5\u05ea \u05dc\u05e6\u05e4\u05d9\u05d9\u05d4 \u05d1\u05d3\u05e3 \u05d6\u05d4")));var c=function(e){var t=e.children,a=e.title;return r.a.createElement("div",{className:Object(W.a)(n.item,i===a&&"opened")},r.a.createElement("header",{className:n.itemHeader},r.a.createElement("button",{onClick:function(){return l(i===a?null:a)}},r.a.createElement("h3",null,a),r.a.createElement("div",null,i===a?r.a.createElement(_e.a,null):r.a.createElement(Ge.a,null)))),i===a&&r.a.createElement("div",{className:n.itemContent},t))};return r.a.createElement(Y,{auth:t},r.a.createElement("div",{className:n.container},r.a.createElement(c,{title:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05de\u05e9\u05ea\u05de\u05e9"},"\u05d4\u05d5\u05e1\u05e4\u05ea \u05de\u05e9\u05ea\u05de\u05e9"===i?r.a.createElement(Ve,{onClose:function(){return l(null)}}):r.a.createElement("div",null)),r.a.createElement(c,{title:"\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"},r.a.createElement(Je,{opened:Boolean("\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"===i),onClose:function(){return l(null)}})),r.a.createElement(c,{title:"\u05e2\u05d3\u05db\u05d5\u05df \u05de\u05e9\u05ea\u05de\u05e9"},r.a.createElement(Pe,{opened:Boolean("\u05e2\u05d3\u05db\u05d5\u05df \u05de\u05e9\u05ea\u05de\u05e9"===i),onClose:function(){return l(null)}})),r.a.createElement(c,{title:"\u05de\u05d7\u05d9\u05e7\u05ea \u05de\u05e9\u05ea\u05de\u05e9"},r.a.createElement(qe,{opened:Boolean("\u05de\u05d7\u05d9\u05e7\u05ea \u05de\u05e9\u05ea\u05de\u05e9"===i),onClose:function(){return l(null)}}))))},Xe=function(e){return Boolean(["developer","\u05de\u05e0\u05d4\u05dc","\u05de\u05e4\u05ea\u05d7","admin","mananger"].includes(e.user.role))},Ze=[{path:"/",name:"Home",component:Te,requiresAuth:!0},{path:"/s/:date?/:kind?",name:"Shift",component:Re,requiresAuth:!0},{path:"/p/:username?",name:"Profile",component:$e,requiresAuth:!0},{path:"/app/settings",name:"Application Settings",component:Qe,requiresAuth:!0},{path:"/login",name:"Login",component:Ye}],et=function(){var e=Object(u.a)(E),t=e.loading,n=e.error,a=e.data;if(t)return r.a.createElement(c,null);if(n)return r.a.createElement(d,null,r.a.createElement("p",null,n.message));var o=a.Authenticate,i=o.user,l=o.token,s=i&&l?o:void 0,m=function(e){var t=e.route;return t.requiresAuth&&!s?r.a.createElement(F.a,{to:"/login"}):!t.requiresAuth&&s&&"Login"===t.name?r.a.createElement(F.a,{to:"/"}):t.requiresAuth&&s?r.a.createElement(t.component,{auth:s}):r.a.createElement(t.component,null)};return r.a.createElement(S.a,null,r.a.createElement(F.d,null,Ze.map((function(e,t){return r.a.createElement(F.b,{key:t,exact:!0,path:e.path},r.a.createElement(m,{route:e}))}))))},tt=function(){return r.a.createElement(et,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var nt=n(61),at=n(73),rt=n(74),ot=n(75),it=n(97),lt=n(106),ct=n(107),ut=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).PORT,"http://".concat(window.location.hostname,":4000/graphql")),st="ws://".concat(window.location.hostname,":4000/graphql"),dt=localStorage.getItem("token")||"",mt=new nt.a({uri:ut,headers:{token:dt}}),ft=new ct.a({uri:st,options:{connectionParams:{token:dt}}}),pt=Object(at.a)((function(e){var t=e.query,n=Object(lt.a)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation}),ft,mt),gt=new rt.a({link:pt,cache:new ot.a});i.a.render(r.a.createElement(it.a,{client:gt},r.a.createElement(tt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[116,1,2]]]);
//# sourceMappingURL=main.b4e5dbea.chunk.js.map